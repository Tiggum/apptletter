{"version":3,"sources":["../src/index.js"],"names":["dotenv","config","__dirname","path","resolve","port","process","env","PORT","app","use","bodyParser","urlencoded","extended","json","post","req","res","console","log","stream","writeHead","body","chunk","write","end","express","static","get","response","sendFile","server","listen","address"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;AAEAA,iBAAOC,MAAP;AACA,IAAMC,YAAYC,eAAKC,OAAL,EAAlB;;AAEA,IAAMC,OAAOC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC;;AAEA,IAAMC,MAAM,wBAAZ;AACAA,IAAIC,GAAJ,CAAQC,qBAAWC,UAAX,CAAsB,EAAEC,UAAU,IAAZ,EAAtB,CAAR;AACAJ,IAAIC,GAAJ,CAAQC,qBAAWG,IAAX,EAAR;;AAEAL,IAAIM,IAAJ,CAAS,WAAT;AAAA,uEAAsB,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAClBC,gCAAQC,GAAR,CAAY,cAAZ;AACMC,8BAFY,GAEHH,IAAII,SAAJ,CAAc,GAAd,EAAmB;AAC9B,4CAAgB,iBADc;AAE9B,2DAA+B;AAC/B;AAH8B,yBAAnB,CAFG;;;AAQlB,oDAAaL,IAAIM,IAAjB,EAAuB,UAACC,KAAD;AAAA,mCAAWH,OAAOI,KAAP,CAAaD,KAAb,CAAX;AAAA,yBAAvB,EAAuD;AAAA,mCAAMH,OAAOK,GAAP,EAAN;AAAA,yBAAvD;;AARkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAtB;;AAAA;AAAA;AAAA;AAAA;;AAWAhB,IAAIC,GAAJ,CAAQgB,kBAAQC,MAAR,CAAexB,eAAKC,OAAL,CAAaF,SAAb,EAAwB,gBAAxB,CAAf,CAAR;AACAO,IAAImB,GAAJ,CAAQ,GAAR,EAAa,UAACZ,GAAD,EAAMC,GAAN,EAAc;AACvBY,sBAASC,QAAT,CAAkB3B,eAAKC,OAAL,CAAaF,SAAb,EAAwB,gBAAxB,EAA0C,YAA1C,CAAlB;AACH,CAFD;;AAIA,IAAM6B,SAAStB,IAAIuB,MAAJ,CAAW3B,IAAX,EAAiB;AAAA,WAC5Ba,QAAQC,GAAR,wBAAiCY,OAAOE,OAAP,GAAiB5B,IAAlD,CAD4B;AAAA,CAAjB,CAAf","file":"index.js","sourcesContent":["import express, { response } from 'express'\nimport createLetter from '../createLetter.js'\nimport bodyParser from 'body-parser'\nimport dotenv from 'dotenv'\nimport path from 'path'\n\ndotenv.config()\nconst __dirname = path.resolve()\n\nconst port = process.env.PORT || 9001\n\nconst app = express()\napp.use(bodyParser.urlencoded({ extended: true }));\napp.use(bodyParser.json());\n\napp.post('/post_pdf', async (req, res) => {\n    console.log('Ive been hit')\n    const stream = res.writeHead(200, {\n        'Content-Type': 'application/pdf',\n        'Access-Control-Allow-Origin': '*',\n        // 'Content-Disposition': 'attachment; filename=appointmentletter.pdf',\n    })\n\n    createLetter(req.body, (chunk) => stream.write(chunk), () => stream.end())\n})\n\napp.use(express.static(path.resolve(__dirname, \"./client/build\")))\napp.get(\"*\", (req, res) => {\n    response.sendFile(path.resolve(__dirname, \"./client/build\", \"index.html\"))\n})\n\nconst server = app.listen(port, () =>\n    console.log(`Listening on port ${server.address().port}`)\n);"]}